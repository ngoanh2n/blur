/**
 * @author Ho Huu Ngoan (ngoanh2n@gmail.com)
 */
plugins {
    id("io.qameta.allure") version "2.11.2"
    id("io.freefair.aspectj.post-compile-weaving") version "8.0.1"
}

dependencies {
    api("com.codeborne:selenide:$versionSelenide")
    api("io.appium:java-client:$versionAppium")
    api("io.qameta.allure:allure-junit5:$versionAllure")
    api("io.qameta.allure:allure-selenide:$versionAllure")

    implementation("org.aspectj:aspectjrt:$versionAspectJ")
    implementation("org.aspectj:aspectjweaver:$versionAspectJ")
}

allure {
    version = "$versionAllure"
    adapter {
        aspectjWeaver = true
        aspectjVersion = "$versionAspectJ"
        autoconfigureListeners = true

        frameworks {
            junit5 {
                enabled = true
                autoconfigureListeners = true
            }
        }
    }
    report {
        reportDir = layout.buildDirectory.dir("allure")
    }
}
